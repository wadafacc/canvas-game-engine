<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="./node.js" type="module"></script>
  <script src="./engine.js" type="module"></script>
  <script src="./time.js" type="module"></script>
  <script src="./comparator.js" type="module"></script>
  <script src="./aaaaaaaaaaaaaaaaaaaabb.js" type="module"></script>
  <script src="./physics.js" type="module"></script>
  <title>i dont know at this point</title>
</head>

<body>
  <canvas id="canvas" width="632" height="632"></canvas>
</body>

<style>
  body,
  html {
    width: 100%;
    height: 100%;

    display: flex;
    align-items: center;
    justify-content: center;
  }

  canvas {
    border: 1px solid black;
  }
</style>

<script type="module">
  import { Engine } from './engine.js';
  import { Node } from './node.js';

  const game = new Engine(document.getElementById('canvas'));

  //   constructor(sprite, width, height, pos)
  const node = new Node(undefined, 150, 150, { x: 100, y: 100 });
  node.attach_collider({ x: 0, y: 0, width: 150, height: 150 });
  node.damp = 0.25;
  node.on_click = (e) => {
    console.log(node.id)
  };
  
  node.on_key("w", () => {
    node.velocity.y = -250;
  });
  node.on_key("s", () => {
    node.velocity.y = 250;
  });
  node.on_key("a", () => {
    node.velocity.x = -250;
  });
  node.on_key("d", () => {
    node.velocity.x = 250;
  });

  const block = new Node(undefined, 50, 50, { x: 300, y: 300 });
  block.attach_collider({ x: 0, y: 0, width: 50, height: 50 });

  game.register(node);
  game.register(block);

  game.start();

</script>

</html>